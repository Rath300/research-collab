(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[583],{553:function(e,r,t){Promise.resolve().then(t.bind(t,7776))},7776:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return DiscoverPage}});var s=t(7437),n=t(2265),i=t(2445),a=t(1844),l=t(2247),o=t(1396),c=t.n(o);function DiscoverPage(){let e=(0,i.Wq)(),[r,t]=(0,n.useState)([]),[o,d]=(0,n.useState)(!0),[u,m]=(0,n.useState)(null),[h,x]=(0,n.useState)("trending");return((0,n.useEffect)(()=>{let loadProjects=async()=>{try{let r=e.from("research_posts").select("\n            *,\n            profiles!user_id (\n              first_name,\n              last_name,\n              institution\n            )\n          ").eq("visibility","public").limit(20);r="trending"===h?r.order("likes_count",{ascending:!1}):r.order("created_at",{ascending:!1});let{data:s,error:n}=await r;if(n)throw n;t(s||[])}catch(e){m(e instanceof Error?e.message:"Failed to load projects")}finally{d(!1)}};loadProjects()},[h,e]),o)?(0,s.jsx)("div",{children:"Loading..."}):u?(0,s.jsxs)("div",{children:["Error: ",u]}):(0,s.jsxs)("div",{className:"container mx-auto py-8",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold",children:"Discover Projects"}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)(l.z,{variant:"trending"===h?"primary":"outline",onClick:()=>x("trending"),children:"Trending"}),(0,s.jsx)(l.z,{variant:"recent"===h?"primary":"outline",onClick:()=>x("recent"),children:"Recent"})]})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(e=>{var r,t,n;return(0,s.jsx)(c(),{href:"/research/".concat(e.id),children:(0,s.jsxs)(a.Zb,{className:"p-6 h-full hover:shadow-lg transition-shadow",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-2",children:e.title}),(0,s.jsx)("p",{className:"text-gray-600 mb-4 line-clamp-3",children:e.content}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("p",{className:"font-medium",children:"".concat((null===(r=e.profiles)||void 0===r?void 0:r.first_name)||""," ").concat((null===(t=e.profiles)||void 0===t?void 0:t.last_name)||"").trim()||"N/A"}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:(null===(n=e.profiles)||void 0===n?void 0:n.institution)||"No Institution"})]}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2 mb-4",children:(e.tags||[]).map(e=>(0,s.jsx)("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-sm",children:e},e))}),(0,s.jsx)("div",{className:"flex items-center gap-4 text-sm text-gray-500"})]})},e.id)})})]})}},2247:function(e,r,t){"use strict";t.d(r,{z:function(){return l}});var s=t(7437),n=t(2265),i=t(9654),a=t(794);let l=n.forwardRef((e,r)=>{let{children:t,className:n,variant:l="primary",size:o="md",isLoading:c=!1,isFullWidth:d=!1,leftIcon:u,rightIcon:m,disabled:h,...x}=e;return(0,s.jsxs)("button",{ref:r,className:(0,i.m6)((0,a.W)("inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",{primary:"bg-researchbee-yellow text-black hover:bg-researchbee-yellow-dark focus-visible:ring-researchbee-yellow",secondary:"bg-purple-600 text-white hover:bg-purple-700 focus-visible:ring-purple-500",accent:"bg-pink-600 text-white hover:bg-pink-700 focus-visible:ring-pink-500",outline:"border border-gray-300 bg-transparent text-gray-300 hover:bg-gray-700/70 hover:text-white focus-visible:ring-gray-400",ghost:"bg-transparent hover:bg-gray-700/70 text-gray-300 hover:text-white",danger:"border border-red-500 bg-transparent text-red-500 hover:bg-red-500/20 hover:text-red-400 focus-visible:ring-red-400"}[l],{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-5 py-2.5 text-base"}[o],d?"w-full":"",n)),disabled:h||c,...x,children:[c&&(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),!c&&u&&(0,s.jsx)("span",{className:"mr-2",children:u}),t,!c&&m&&(0,s.jsx)("span",{className:"ml-2",children:m})]})});l.displayName="Button"},1844:function(e,r,t){"use strict";t.d(r,{Ol:function(){return CardHeader},SZ:function(){return CardDescription},Zb:function(){return Card},aY:function(){return CardContent},eW:function(){return CardFooter},ll:function(){return CardTitle}});var s=t(7437);t(2265);var n=t(9654);let Card=e=>{let{children:r,className:t,hover:i=!1}=e;return(0,s.jsx)("div",{className:(0,n.m6)("rounded-lg bg-white p-6 shadow-card transition-shadow dark:bg-slate-800",i&&"hover:shadow-card-hover",t),children:r})},CardHeader=e=>{let{children:r,className:t}=e;return(0,s.jsx)("div",{className:(0,n.m6)("mb-4",t),children:r})},CardTitle=e=>{let{children:r,className:t}=e;return(0,s.jsx)("h3",{className:(0,n.m6)("text-xl font-bold tracking-tight",t),children:r})},CardDescription=e=>{let{children:r,className:t}=e;return(0,s.jsx)("p",{className:(0,n.m6)("text-sm text-gray-500 dark:text-gray-400",t),children:r})},CardContent=e=>{let{children:r,className:t}=e;return(0,s.jsx)("div",{className:(0,n.m6)("",t),children:r})},CardFooter=e=>{let{children:r,className:t}=e;return(0,s.jsx)("div",{className:(0,n.m6)("mt-4 flex items-center",t),children:r})}},2445:function(e,r,t){"use strict";t.d(r,{Wq:function(){return getBrowserClient}});var s=t(4683);let SupabaseError=class SupabaseError extends Error{constructor(e,r=400,t){super(e),this.name="SupabaseError",this.status=r,this.code=t}};let n="https://yltnvmypasnfdgtnyhwg.supabase.co",i="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlsdG52bXlwYXNuZmRndG55aHdnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQzNDcxNTMsImV4cCI6MjA1OTkyMzE1M30.ajCPb95af8_It1m_D4yGJhErKuLEtqqfqk8Yq2n4MCw";n&&i||console.error("Missing Supabase environment variables");let a=null;function getBrowserClient(){return a||(a=function(){if(!n||!i)throw new SupabaseError("Missing Supabase environment variables",500);return(0,s.eI)(n,i,{auth:{persistSession:!0,autoRefreshToken:!0}})}())}},1396:function(e,r,t){e.exports=t(8326)}},function(e){e.O(0,[326,358,74,971,472,744],function(){return e(e.s=553)}),_N_E=e.O()}]);