(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[583],{553:function(e,t,r){Promise.resolve().then(r.bind(r,7776))},7776:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return DiscoverPage}});var s=r(7437),n=r(2265),a=r(2445),i=r(2247),l=r(1396),o=r.n(l),c=r(1407),d=r(231),h=r(1767);function DiscoverPage(){let e=(0,a.Wq)(),[t,r]=(0,n.useState)([]),[l,x]=(0,n.useState)(!0),[u,m]=(0,n.useState)(null),[g,b]=(0,n.useState)("trending"),f=(0,n.useCallback)(async()=>{x(!0),m(null);try{let t=e.from("research_posts").select("\n          *,\n          profiles!user_id (\n            first_name,\n            last_name,\n            institution,\n            avatar_url\n          )\n        ").eq("visibility","public").limit(20);t="trending"===g?t.order("engagement_count",{ascending:!1}):t.order("created_at",{ascending:!1});let{data:s,error:n}=await t;if(n)throw n;r(s||[])}catch(e){console.error("Error loading projects:",e),m(e instanceof Error?e.message:"Failed to load projects")}finally{x(!1)}},[e,g]);return((0,n.useEffect)(()=>{f()},[f]),l)?(0,s.jsx)(c._,{title:"Discover Projects",className:"bg-gradient-to-br from-gray-900 via-purple-900 to-gray-800 min-h-screen text-white flex items-center justify-center",children:(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)(d.dAq,{className:"animate-spin text-researchbee-yellow text-6xl mb-4"}),(0,s.jsx)("p",{className:"text-xl text-gray-300",children:"Loading projects..."})]})}):u?(0,s.jsx)(c._,{title:"Error",className:"bg-gradient-to-br from-gray-900 via-purple-900 to-gray-800 min-h-screen text-white flex items-center justify-center",children:(0,s.jsxs)("div",{className:"glass-card p-8 rounded-xl shadow-lg text-center",children:[(0,s.jsx)(d.bcx,{className:"mx-auto text-red-500 text-6xl mb-4"}),(0,s.jsx)("h2",{className:"text-2xl font-semibold text-white mb-2",children:"Oops! Something went wrong."}),(0,s.jsxs)("p",{className:"text-gray-300 mb-4",children:["Error: ",u]}),(0,s.jsx)(i.z,{onClick:f,variant:"primary",className:"bg-researchbee-yellow hover:bg-researchbee-darkyellow text-black",children:"Try Again"})]})}):(0,s.jsx)(c._,{title:"Discover Projects",className:"bg-gradient-to-br from-gray-900 via-purple-900 to-gray-800 min-h-screen text-white",children:(0,s.jsxs)("div",{className:"p-4 sm:p-6 md:p-8 space-y-8",children:[(0,s.jsxs)("div",{className:"glass-card p-6 rounded-xl shadow-lg flex flex-col sm:flex-row justify-between items-center gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(d.jRj,{className:"text-3xl text-researchbee-yellow mr-3"}),(0,s.jsx)("h1",{className:"text-3xl font-semibold text-white",children:"Discover Projects"})]}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsxs)(i.z,{variant:"trending"===g?"primary":"outline",onClick:()=>b("trending"),className:"".concat("trending"===g?"bg-researchbee-yellow text-black":"border-researchbee-yellow text-researchbee-yellow hover:bg-researchbee-yellow/10"," transition-all"),children:[(0,s.jsx)(d.QqI,{className:"mr-2"})," Trending"]}),(0,s.jsxs)(i.z,{variant:"recent"===g?"primary":"outline",onClick:()=>b("recent"),className:"".concat("recent"===g?"bg-researchbee-yellow text-black":"border-researchbee-yellow text-researchbee-yellow hover:bg-researchbee-yellow/10"," transition-all"),children:[(0,s.jsx)(d.TCC,{className:"mr-2"})," Recent"]})]})]}),t.length>0?(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(e=>{var t,r,n,a,i;return(0,s.jsx)(o(),{href:"/research/".concat(e.id),className:"block group",children:(0,s.jsxs)("div",{className:"glass-card p-5 rounded-xl shadow-lg hover:shadow-2xl transition-all duration-300 ease-in-out flex flex-col justify-between h-full transform group-hover:-translate-y-1",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-white mb-2 truncate group-hover:text-researchbee-yellow transition-colors",title:e.title,children:e.title}),(0,s.jsx)("p",{className:"text-gray-300 text-sm mb-3 line-clamp-3",title:e.content||void 0,children:e.content||"No description available."}),(0,s.jsxs)("div",{className:"flex items-center mb-4",children:[(0,s.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-700/50 flex items-center justify-center mr-2 overflow-hidden flex-shrink-0",children:(0,s.jsx)(h.q,{src:null===(t=e.profiles)||void 0===t?void 0:t.avatar_url,alt:(null===(r=e.profiles)||void 0===r?void 0:r.first_name)||"User",size:"sm",fallback:(0,s.jsx)(d.fzv,{className:"h-4 w-4 text-researchbee-yellow"})})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-white truncate",children:"".concat((null===(n=e.profiles)||void 0===n?void 0:n.first_name)||""," ").concat((null===(a=e.profiles)||void 0===a?void 0:a.last_name)||"").trim()||"Anonymous Researcher"}),(0,s.jsx)("p",{className:"text-xs text-gray-400 truncate",children:(null===(i=e.profiles)||void 0===i?void 0:i.institution)||"No Institution Provided"})]})]}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2 mb-3",children:(e.tags||[]).map(e=>(0,s.jsx)("span",{className:"bg-researchbee-yellow/20 text-researchbee-yellow px-2 py-1 rounded-full text-xs",children:e},e))})]}),(0,s.jsx)("div",{className:"mt-auto pt-3 border-t border-white/10 flex justify-between items-center text-xs text-gray-400",children:(0,s.jsx)("span",{children:e.created_at?new Date(e.created_at).toLocaleDateString():"Date N/A"})})]})},e.id)})}):(0,s.jsxs)("div",{className:"glass-card p-10 rounded-xl shadow-lg text-center col-span-full",children:[(0,s.jsx)(d.jRj,{className:"mx-auto text-6xl text-gray-500 mb-6"}),(0,s.jsx)("h2",{className:"text-2xl font-semibold text-white mb-3",children:"No Projects Found"}),(0,s.jsx)("p",{className:"text-gray-300 mb-6",children:"trending"===g?"There are no trending projects matching your criteria right now.":"No recent projects found. Check back later!"}),(0,s.jsx)(i.z,{variant:"secondary",onClick:()=>b("trending"===g?"recent":"trending"),className:"bg-researchbee-yellow/20 hover:bg-researchbee-yellow/30 text-researchbee-yellow",children:"trending"===g?"View Recent Projects":"View Trending Projects"})]})]})})}},1407:function(e,t,r){"use strict";r.d(t,{_:function(){return PageContainer}});var s=r(7437);r(2265);var n=r(3574),a=r.n(n);function PageContainer(e){let{title:t,children:r,className:n}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a(),{children:(0,s.jsx)("title",{children:"".concat(t," | ResearchCollab")})}),(0,s.jsx)("main",{className:"container mx-auto px-4 py-8 ".concat(n||""),children:r})]})}},1767:function(e,t,r){"use strict";r.d(t,{q:function(){return Avatar}});var s=r(7437);r(2265);var n=r(6691),a=r.n(n),i=r(1628);function Avatar(e){let{src:t,alt:r,size:n="md",fallback:l,className:o,priority:c=!1}=e,{dimension:d,textClass:h}={sm:{dimension:32,textClass:"text-sm"},md:{dimension:40,textClass:"text-base"},lg:{dimension:64,textClass:"text-xl"},xl:{dimension:128,textClass:"text-3xl"}}[n];return t?(0,s.jsx)("div",{className:(0,i.cn)("relative rounded-full overflow-hidden","w-".concat(d/4," h-").concat(d/4),"min-w-[".concat(d,"px] min-h-[").concat(d,"px] w-[").concat(d,"px] h-[").concat(d,"px]"),o),style:{width:d,height:d},children:(0,s.jsx)(a(),{src:t,alt:r,width:d,height:d,className:"object-cover",priority:c})}):(0,s.jsx)("div",{className:(0,i.cn)("flex items-center justify-center rounded-full bg-gray-200 dark:bg-gray-700","w-".concat(d/4," h-").concat(d/4),"min-w-[".concat(d,"px] min-h-[").concat(d,"px] w-[").concat(d,"px] h-[").concat(d,"px]"),o),style:{width:d,height:d},children:(0,s.jsx)("span",{className:(0,i.cn)("font-semibold text-gray-500 dark:text-gray-400",h),children:l||r.charAt(0).toUpperCase()})})}},2247:function(e,t,r){"use strict";r.d(t,{z:function(){return l}});var s=r(7437),n=r(2265),a=r(9654),i=r(794);let l=n.forwardRef((e,t)=>{let{children:r,className:n,variant:l="primary",size:o="md",isLoading:c=!1,isFullWidth:d=!1,leftIcon:h,rightIcon:x,disabled:u,...m}=e;return(0,s.jsxs)("button",{ref:t,className:(0,a.m6)((0,i.W)("inline-flex items-center justify-center rounded-lg font-semibold tracking-wide transition-all duration-300 ease-in-out focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-offset-transparent disabled:opacity-60 disabled:pointer-events-none",{primary:"bg-gradient-to-r from-purple-600 to-pink-500 text-white hover:from-purple-700 hover:to-pink-600 shadow-lg hover:shadow-xl focus-visible:ring-purple-500",secondary:"bg-gray-700/50 text-gray-100 hover:bg-gray-600/70 backdrop-blur-sm border border-gray-600/80 focus-visible:ring-gray-400",accent:"bg-gradient-to-r from-researchbee-yellow to-orange-500 text-black hover:from-researchbee-yellow-dark hover:to-orange-600 shadow-md hover:shadow-lg focus-visible:ring-researchbee-yellow",outline:"border border-white/30 bg-white/5 text-gray-100 backdrop-blur-sm hover:bg-white/10 hover:border-white/50 hover:text-white focus-visible:ring-white/70",ghost:"bg-transparent text-gray-200 hover:bg-white/10 hover:text-white focus-visible:ring-gray-400",danger:"bg-red-500/70 border border-red-500/90 text-white backdrop-blur-sm hover:bg-red-600/80 hover:border-red-600 focus-visible:ring-red-400",glass:"bg-white/10 backdrop-blur-md border border-white/20 text-white hover:bg-white/20 hover:border-white/30 shadow-lg focus-visible:ring-white/50"}[l],{sm:"px-3.5 py-2 text-xs h-9",md:"px-5 py-2.5 text-sm h-10",lg:"px-6 py-3 text-base h-12"}[o],d?"w-full":"",c?"opacity-75 cursor-not-allowed":"",n)),disabled:u||c,...m,children:[c&&(0,s.jsxs)("svg",{className:"animate-spin -ml-0.5 mr-2 h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),!c&&h&&(0,s.jsx)("span",{className:r?"mr-2":"",children:h}),r,!c&&x&&(0,s.jsx)("span",{className:r?"ml-2":"",children:x})]})});l.displayName="Button"},2445:function(e,t,r){"use strict";r.d(t,{Wq:function(){return getBrowserClient}});var s=r(4683);let SupabaseError=class SupabaseError extends Error{constructor(e,t=400,r){super(e),this.name="SupabaseError",this.status=t,this.code=r}};let n="https://yltnvmypasnfdgtnyhwg.supabase.co",a="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlsdG52bXlwYXNuZmRndG55aHdnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQzNDcxNTMsImV4cCI6MjA1OTkyMzE1M30.ajCPb95af8_It1m_D4yGJhErKuLEtqqfqk8Yq2n4MCw";n&&a||console.error("Missing Supabase environment variables");let i=null;function getBrowserClient(){return i||(i=function(){if(!n||!a)throw new SupabaseError("Missing Supabase environment variables",500);return(0,s.eI)(n,a,{auth:{persistSession:!0,autoRefreshToken:!0}})}())}},1628:function(e,t,r){"use strict";r.d(t,{cn:function(){return cn}});var s=r(794),n=r(9654);function cn(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,s.W)(t))}},3574:function(e,t){"use strict";function NoopHead(){return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return NoopHead}}),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1396:function(e,t,r){e.exports=r(8326)}},function(e){e.O(0,[238,683,326,74,691,971,472,744],function(){return e(e.s=553)}),_N_E=e.O()}]);