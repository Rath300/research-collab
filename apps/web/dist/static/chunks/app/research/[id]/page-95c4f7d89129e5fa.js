(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[915],{4754:function(e,t,r){Promise.resolve().then(r.bind(r,6408))},6408:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return ResearchPostPage}});var s=r(7437),a=r(2265),l=r(4033),i=r(1396),n=r.n(i),o=r(501),c=r(4962),d=r(1407),x=r(1767),h=r(2247),m=r(1844),u=r(231),b=r(7294);function ResearchPostPage(){var e,t;let r=(0,l.useRouter)(),i=(0,l.useParams)(),f=null==i?void 0:i.id,{user:p,isLoading:g}=(0,c.tN)(),[w,v]=(0,a.useState)(null),[j,y]=(0,a.useState)(!0),[N,_]=(0,a.useState)(null);(0,a.useEffect)(()=>{if(!g){if(f){let fetchPost=async()=>{y(!0),_(null);try{let e=await (0,o.xE)(f);e?v(e):_("Research post not found.")}catch(e){console.error("Error fetching research post:",e),_(e.message||"Failed to load research post.")}y(!1)};fetchPost()}else _("Post ID is missing."),y(!1)}},[f,p,g,r]);let handleFileDownload=(e,t)=>{let r="https://yltnvmypasnfdgtnyhwg.supabase.co";if(r&&(null==w?void 0:w.project_files)){let s=w.project_files.find(t=>t.file_path===e);if(s){let s="".concat(r,"/storage/v1/object/public/project_files/").concat(e),a=document.createElement("a");a.href=s,a.setAttribute("download",t||"download"),document.body.appendChild(a),a.click(),document.body.removeChild(a)}}};if(j||g)return(0,s.jsx)(d._,{title:"Loading Post...",className:"bg-gradient-to-br from-gray-900 via-purple-900 to-gray-800 min-h-screen text-white flex items-center justify-center",children:(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)(u.dAq,{className:"animate-spin text-researchbee-yellow text-6xl mb-4"}),(0,s.jsx)("p",{className:"text-xl text-gray-300",children:"Loading research post..."})]})});if(N)return(0,s.jsx)(d._,{title:"Error",className:"bg-gradient-to-br from-gray-900 via-purple-900 to-gray-800 min-h-screen text-white flex items-center justify-center",children:(0,s.jsxs)("div",{className:"glass-card p-8 rounded-xl shadow-lg text-center max-w-md",children:[(0,s.jsx)(u.bcx,{className:"mx-auto text-red-400 text-5xl mb-4"}),(0,s.jsx)("h2",{className:"text-2xl font-semibold text-white mb-2",children:"Oops! Something went wrong."}),(0,s.jsx)("p",{className:"text-gray-300 mb-6",children:N}),(0,s.jsx)(h.z,{variant:"primary",onClick:()=>r.push("/discover"),className:"bg-researchbee-yellow hover:bg-researchbee-darkyellow text-black",children:"Back to Discover"})]})});if(!w)return(0,s.jsx)(d._,{title:"Post Not Found",className:"bg-gradient-to-br from-gray-900 via-purple-900 to-gray-800 min-h-screen text-white flex items-center justify-center",children:(0,s.jsxs)("div",{className:"glass-card p-8 rounded-xl shadow-lg text-center",children:[(0,s.jsx)(u.bcx,{className:"mx-auto text-gray-500 text-5xl mb-4"}),(0,s.jsx)("h2",{className:"text-2xl font-semibold text-white",children:"Post Not Found"}),(0,s.jsx)("p",{className:"text-gray-300 mb-6",children:"The research post you are looking for does not exist or could not be loaded."}),(0,s.jsx)(h.z,{variant:"primary",onClick:()=>r.push("/discover"),className:"bg-researchbee-yellow hover:bg-researchbee-darkyellow text-black",children:"Back to Discover"})]})});let k=w.profiles,C=w.created_at?(0,b.Z)(new Date(w.created_at),{addSuffix:!0}):"some time ago";return(0,s.jsx)(d._,{title:w.title||"Research Post",className:"bg-gradient-to-br from-gray-900 via-purple-900 to-gray-800 min-h-screen text-white",children:(0,s.jsxs)("div",{className:"container mx-auto max-w-4xl px-4 py-12 sm:py-16 lg:py-20",children:[(0,s.jsx)(m.Zb,{className:"glass-card shadow-xl mb-8 overflow-hidden",children:(0,s.jsxs)(m.Ol,{className:"pt-8 pb-6 text-center border-b border-white/10",children:[(0,s.jsx)(u.NOg,{className:"text-5xl text-researchbee-yellow mx-auto mb-4"}),(0,s.jsx)(m.ll,{className:"text-3xl sm:text-4xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-purple-400 via-pink-500 to-orange-400 tracking-tight",children:w.title}),(0,s.jsxs)("div",{className:"mt-4 flex items-center justify-center space-x-4 text-sm text-gray-400",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(u.vlc,{className:"mr-1.5"})," Published ",C]}),w.visibility&&(0,s.jsxs)("div",{className:"flex items-center capitalize",children:[(0,s.jsx)(u.rDJ,{className:"mr-1.5"})," ",w.visibility]})]})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-8",children:[(0,s.jsxs)("div",{className:"md:col-span-8 space-y-6",children:[(0,s.jsx)(m.Zb,{className:"glass-card shadow-xl",children:(0,s.jsx)(m.aY,{className:"p-6 md:p-8 prose prose-invert prose-sm sm:prose-base max-w-none text-gray-200 !leading-relaxed",children:(0,s.jsx)("div",{dangerouslySetInnerHTML:{__html:w.content.replace(/\n/g,"<br />")}})})}),w.tags&&w.tags.length>0&&(0,s.jsxs)(m.Zb,{className:"glass-card shadow-xl",children:[(0,s.jsx)(m.Ol,{children:(0,s.jsxs)(m.ll,{className:"text-xl font-semibold text-white flex items-center",children:[(0,s.jsx)(u.E25,{className:"mr-2 text-researchbee-yellow"}),"Tags"]})}),(0,s.jsx)(m.aY,{className:"p-6 flex flex-wrap gap-3",children:w.tags.map(e=>(0,s.jsx)("span",{className:"bg-researchbee-yellow/20 text-researchbee-yellow px-3 py-1.5 rounded-full text-xs sm:text-sm font-medium backdrop-blur-sm border border-researchbee-yellow/30 shadow-sm",children:e},e))})]}),w.project_files&&w.project_files.length>0&&(0,s.jsxs)(m.Zb,{className:"glass-card shadow-xl",children:[(0,s.jsx)(m.Ol,{children:(0,s.jsxs)(m.ll,{className:"text-xl font-semibold text-white flex items-center",children:[(0,s.jsx)(u._hL,{className:"mr-2 text-researchbee-yellow"}),"Attached Files"]})}),(0,s.jsx)(m.aY,{className:"p-6 space-y-3",children:w.project_files.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 transition-colors",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(u.NOg,{className:"h-5 w-5 text-researchbee-yellow mr-3 flex-shrink-0"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-white",children:e.file_name}),(0,s.jsxs)("p",{className:"text-xs text-gray-400",children:[(e.file_size/1048576).toFixed(2)," MB - ",e.file_type]})]})]}),(0,s.jsxs)(h.z,{variant:"outline",size:"sm",onClick:()=>handleFileDownload(e.file_path,e.file_name),className:"border-researchbee-yellow text-researchbee-yellow hover:bg-researchbee-yellow/10 flex-shrink-0",children:[(0,s.jsx)(u._hL,{className:"mr-2 h-4 w-4"})," Download"]})]},e.id))})]})]}),(0,s.jsx)("div",{className:"md:col-span-4 space-y-6",children:k&&(0,s.jsxs)(m.Zb,{className:"glass-card shadow-xl sticky top-24",children:[(0,s.jsxs)(m.Ol,{className:"items-center text-center border-b border-white/10 pb-4",children:[(0,s.jsx)(x.q,{src:k.avatar_url||null,fallback:"".concat((null===(e=k.first_name)||void 0===e?void 0:e[0])||"").concat((null===(t=k.last_name)||void 0===t?void 0:t[0])||""),alt:"".concat(k.first_name," ").concat(k.last_name),className:"w-24 h-24 text-3xl mb-3 border-2 border-white/20 shadow-lg"}),(0,s.jsx)(m.ll,{className:"text-xl font-semibold text-white truncate max-w-full",children:"".concat(k.first_name||""," ").concat(k.last_name||"").trim()||"Author"}),k.institution&&(0,s.jsx)(m.SZ,{className:"text-gray-300 mt-1",children:k.institution})]}),(0,s.jsx)(m.aY,{className:"p-6 text-center",children:(0,s.jsx)(n(),{href:"/profile/".concat(k.id),passHref:!0,children:(0,s.jsxs)(h.z,{variant:"primary",className:"w-full bg-researchbee-yellow hover:bg-researchbee-darkyellow text-black",children:[(0,s.jsx)(u.fzv,{className:"mr-2"})," View Profile"]})})})]})})]})]})})}},1407:function(e,t,r){"use strict";r.d(t,{_:function(){return PageContainer}});var s=r(7437);r(2265);var a=r(3574),l=r.n(a);function PageContainer(e){let{title:t,children:r,className:a}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l(),{children:(0,s.jsx)("title",{children:"".concat(t," | ResearchCollab")})}),(0,s.jsx)("main",{className:"container mx-auto px-4 py-8 ".concat(a||""),children:r})]})}},1767:function(e,t,r){"use strict";r.d(t,{q:function(){return Avatar}});var s=r(7437);r(2265);var a=r(6691),l=r.n(a),i=r(1628);function Avatar(e){let{src:t,alt:r,size:a="md",fallback:n,className:o,priority:c=!1}=e,{dimension:d,textClass:x}={sm:{dimension:32,textClass:"text-sm"},md:{dimension:40,textClass:"text-base"},lg:{dimension:64,textClass:"text-xl"},xl:{dimension:128,textClass:"text-3xl"}}[a];return t?(0,s.jsx)("div",{className:(0,i.cn)("relative rounded-full overflow-hidden","w-".concat(d/4," h-").concat(d/4),"min-w-[".concat(d,"px] min-h-[").concat(d,"px] w-[").concat(d,"px] h-[").concat(d,"px]"),o),style:{width:d,height:d},children:(0,s.jsx)(l(),{src:t,alt:r,width:d,height:d,className:"object-cover",priority:c})}):(0,s.jsx)("div",{className:(0,i.cn)("flex items-center justify-center rounded-full bg-gray-200 dark:bg-gray-700","w-".concat(d/4," h-").concat(d/4),"min-w-[".concat(d,"px] min-h-[").concat(d,"px] w-[").concat(d,"px] h-[").concat(d,"px]"),o),style:{width:d,height:d},children:(0,s.jsx)("span",{className:(0,i.cn)("font-semibold text-gray-500 dark:text-gray-400",x),children:n||r.charAt(0).toUpperCase()})})}},2247:function(e,t,r){"use strict";r.d(t,{z:function(){return n}});var s=r(7437),a=r(2265),l=r(9654),i=r(794);let n=a.forwardRef((e,t)=>{let{children:r,className:a,variant:n="primary",size:o="md",isLoading:c=!1,isFullWidth:d=!1,leftIcon:x,rightIcon:h,disabled:m,...u}=e;return(0,s.jsxs)("button",{ref:t,className:(0,l.m6)((0,i.W)("inline-flex items-center justify-center rounded-lg font-semibold tracking-wide transition-all duration-300 ease-in-out focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-offset-transparent disabled:opacity-60 disabled:pointer-events-none",{primary:"bg-gradient-to-r from-purple-600 to-pink-500 text-white hover:from-purple-700 hover:to-pink-600 shadow-lg hover:shadow-xl focus-visible:ring-purple-500",secondary:"bg-gray-700/50 text-gray-100 hover:bg-gray-600/70 backdrop-blur-sm border border-gray-600/80 focus-visible:ring-gray-400",accent:"bg-gradient-to-r from-researchbee-yellow to-orange-500 text-black hover:from-researchbee-yellow-dark hover:to-orange-600 shadow-md hover:shadow-lg focus-visible:ring-researchbee-yellow",outline:"border border-white/30 bg-white/5 text-gray-100 backdrop-blur-sm hover:bg-white/10 hover:border-white/50 hover:text-white focus-visible:ring-white/70",ghost:"bg-transparent text-gray-200 hover:bg-white/10 hover:text-white focus-visible:ring-gray-400",danger:"bg-red-500/70 border border-red-500/90 text-white backdrop-blur-sm hover:bg-red-600/80 hover:border-red-600 focus-visible:ring-red-400",glass:"bg-white/10 backdrop-blur-md border border-white/20 text-white hover:bg-white/20 hover:border-white/30 shadow-lg focus-visible:ring-white/50"}[n],{sm:"px-3.5 py-2 text-xs h-9",md:"px-5 py-2.5 text-sm h-10",lg:"px-6 py-3 text-base h-12"}[o],d?"w-full":"",c?"opacity-75 cursor-not-allowed":"",a)),disabled:m||c,...u,children:[c&&(0,s.jsxs)("svg",{className:"animate-spin -ml-0.5 mr-2 h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),!c&&x&&(0,s.jsx)("span",{className:r?"mr-2":"",children:x}),r,!c&&h&&(0,s.jsx)("span",{className:r?"ml-2":"",children:h})]})});n.displayName="Button"},1844:function(e,t,r){"use strict";r.d(t,{Ol:function(){return CardHeader},SZ:function(){return CardDescription},Zb:function(){return Card},aY:function(){return CardContent},eW:function(){return CardFooter},ll:function(){return CardTitle}});var s=r(7437);r(2265);var a=r(9654);let Card=e=>{let{children:t,className:r,hoverEffect:l=!1,as:i="div"}=e;return(0,s.jsx)(i,{className:(0,a.m6)("rounded-xl bg-black/20 backdrop-blur-lg border border-white/10 shadow-2xl","p-6",l&&"transition-all duration-300 hover:shadow-purple-500/30 hover:border-white/20 hover:bg-black/30",r),children:t})},CardHeader=e=>{let{children:t,className:r}=e;return(0,s.jsx)("div",{className:(0,a.m6)("pb-4 mb-4 border-b border-white/10",r),children:t})},CardTitle=e=>{let{children:t,className:r}=e;return(0,s.jsx)("h3",{className:(0,a.m6)("text-xl lg:text-2xl font-semibold text-white",r),children:t})},CardDescription=e=>{let{children:t,className:r}=e;return(0,s.jsx)("p",{className:(0,a.m6)("text-sm text-gray-300 leading-relaxed",r),children:t})},CardContent=e=>{let{children:t,className:r}=e;return(0,s.jsx)("div",{className:(0,a.m6)("",r),children:t})},CardFooter=e=>{let{children:t,className:r}=e;return(0,s.jsx)("div",{className:(0,a.m6)("pt-4 mt-4 border-t border-white/10 flex items-center",r),children:t})}},1628:function(e,t,r){"use strict";r.d(t,{cn:function(){return cn}});var s=r(794),a=r(9654);function cn(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,s.W)(t))}},3574:function(e,t){"use strict";function NoopHead(){return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return NoopHead}}),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1396:function(e,t,r){e.exports=r(8326)}},function(e){e.O(0,[238,683,326,74,588,691,501,169,971,472,744],function(){return e(e.s=4754)}),_N_E=e.O()}]);