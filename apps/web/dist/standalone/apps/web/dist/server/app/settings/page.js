(()=>{var e={};e.id=938,e.ids=[938],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},71017:e=>{"use strict";e.exports=require("path")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},88694:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>d,pages:()=>p,routeModule:()=>u,tree:()=>c});var r=s(67096),a=s(16132),i=s(37284),l=s.n(i),n=s(32564),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);s.d(t,o);let c=["",{children:["settings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,14011)),"/Users/shreyansh/ItsMightHappenApp/apps/web/app/settings/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,44599)),"/Users/shreyansh/ItsMightHappenApp/apps/web/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,44293)),"/Users/shreyansh/ItsMightHappenApp/apps/web/app/not-found.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],p=["/Users/shreyansh/ItsMightHappenApp/apps/web/app/settings/page.tsx"],d="/settings/page",x={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/settings/page",pathname:"/settings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},41134:(e,t,s)=>{Promise.resolve().then(s.bind(s,12755))},12755:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>SettingsPage});var r=s(30784),a=s(9885),i=s(57114),l=s(85217),n=s(77971),o=s(79979),c=s(66262),p=s(54049),d=s(71798),x=s(81067),u=s(47723);function SettingsPage(){let e=(0,i.useRouter)(),{user:t,profile:s,setProfile:m}=(0,c.tN)(),[g,h]=(0,a.useState)(!0),[f,b]=(0,a.useState)(null);(0,a.useEffect)(()=>{let loadProfileData=async()=>{if(!t){e.push("/login");return}h(!0),b(null);try{if(!s||!s.updated_at){let e=await (0,p.Ai)(t.id);if(e){let t={...e,updated_at:e.updated_at?new Date(e.updated_at):null};m(t)}else throw Error("Profile data could not be fetched.")}}catch(e){console.error("Error loading profile on settings page:",e),b(e.message||"Failed to load profile data. Please try refreshing.")}finally{h(!1)}};t?loadProfileData():g||e.push("/login")},[t,s,m,e,g]);let y=s?{...s,full_name:`${s.first_name||""} ${s.last_name||""}`.trim(),research_interests:s.interests||[]}:void 0;return g?r.jsx(x._,{title:"Settings",className:"bg-gradient-to-br from-gray-900 via-purple-900 to-gray-800 min-h-screen text-white flex items-center justify-center",children:(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[r.jsx(o.dAq,{className:"animate-spin text-researchbee-yellow text-6xl mb-4"}),r.jsx("p",{className:"text-xl text-gray-300",children:"Loading your settings..."})]})}):f?r.jsx(x._,{title:"Error",className:"bg-gradient-to-br from-gray-900 via-purple-900 to-gray-800 min-h-screen text-white flex items-center justify-center",children:(0,r.jsxs)("div",{className:"glass-card p-8 rounded-xl shadow-lg text-center max-w-md w-full",children:[r.jsx(o.bcx,{className:"mx-auto text-red-400 text-5xl mb-4"}),r.jsx("h2",{className:"text-2xl font-semibold text-white mb-2",children:"Oops! Something went wrong."}),r.jsx("p",{className:"text-gray-300 mb-6",children:f}),r.jsx(l.z,{variant:"primary",onClick:()=>e.refresh(),className:"w-full bg-researchbee-yellow hover:bg-researchbee-darkyellow text-black",children:"Try Again"})]})}):t&&y?r.jsx(x._,{title:"Account Settings",className:"bg-gradient-to-br from-gray-900 via-purple-900 to-gray-800 min-h-screen text-white",children:(0,r.jsxs)("div",{className:"container mx-auto max-w-6xl px-4 py-12 sm:py-16 lg:py-20",children:[r.jsx("h1",{className:"text-4xl sm:text-5xl font-bold mb-12 sm:mb-16 text-center tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-purple-400 via-pink-500 to-orange-400",children:"Account Settings"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-8 lg:gap-12",children:[r.jsx("div",{className:"md:col-span-4 lg:col-span-3",children:r.jsx(n.Zb,{className:"glass-card sticky top-24 shadow-xl",children:(0,r.jsxs)(n.aY,{className:"p-6 flex flex-col items-center text-center",children:[r.jsx("div",{className:"w-32 h-32 rounded-full bg-black/20 backdrop-blur-md border-2 border-white/10 flex items-center justify-center overflow-hidden mb-5 shadow-lg transition-all duration-300 hover:scale-105 group",children:r.jsx(u.q,{src:y?.avatar_url,alt:"Profile Avatar",size:"lg",className:"group-hover:opacity-80 transition-opacity",fallback:r.jsx(o.fzv,{className:"text-gray-400 group-hover:text-researchbee-yellow transition-colors",size:60})})}),r.jsx("h2",{className:"text-2xl font-semibold text-white truncate max-w-full px-2",children:`${y?.first_name||""} ${y?.last_name||""}`.trim()||"User Name"}),r.jsx("p",{className:"text-sm text-gray-400 mt-1.5 break-all px-2",children:t?.email||"user@example.com"})]})})}),r.jsx("div",{className:"md:col-span-8 lg:col-span-9",children:(0,r.jsxs)(n.Zb,{className:"glass-card shadow-xl",children:[(0,r.jsxs)(n.Ol,{className:"border-b border-white/10 pb-4",children:[r.jsx(n.ll,{className:"text-2xl sm:text-3xl font-semibold text-white",children:"Profile Information"}),r.jsx(n.SZ,{className:"text-gray-300 mt-1",children:"Keep your personal details and preferences up to date."})]}),r.jsx(n.aY,{className:"pt-6",children:r.jsx(d.r,{initialData:y,onProfileUpdate:()=>{}})})]})})]})]})}):(g||e.push("/login"),r.jsx(x._,{title:"Settings",className:"bg-gradient-to-br from-gray-900 via-purple-900 to-gray-800 min-h-screen text-white flex items-center justify-center",children:(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[r.jsx(o.dAq,{className:"animate-spin text-researchbee-yellow text-6xl mb-4"}),r.jsx("p",{className:"text-xl text-gray-300",children:"Preparing settings..."})," "]})}))}},14011:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>i,default:()=>o});var r=s(95153);let a=(0,r.createProxy)(String.raw`/Users/shreyansh/ItsMightHappenApp/apps/web/app/settings/page.tsx`),{__esModule:i,$$typeof:l}=a,n=a.default,o=n}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[998,450,979,781,451,505,217,677,971,90,723,85],()=>__webpack_exec__(88694));module.exports=s})();