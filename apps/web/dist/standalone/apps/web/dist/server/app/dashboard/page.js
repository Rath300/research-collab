(()=>{var e={};e.id=702,e.ids=[702],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},71017:e=>{"use strict";e.exports=require("path")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},84839:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>p,pages:()=>o,routeModule:()=>m,tree:()=>d});var r=t(67096),a=t(16132),i=t(37284),l=t.n(i),n=t(32564),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);t.d(s,c);let d=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,1618)),"/Users/shreyansh/ItsMightHappenApp/apps/web/app/dashboard/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,44599)),"/Users/shreyansh/ItsMightHappenApp/apps/web/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,44293)),"/Users/shreyansh/ItsMightHappenApp/apps/web/app/not-found.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],o=["/Users/shreyansh/ItsMightHappenApp/apps/web/app/dashboard/page.tsx"],p="/dashboard/page",x={require:t,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},66030:(e,s,t)=>{Promise.resolve().then(t.bind(t,58661))},58661:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>DashboardPage});var r=t(30784),a=t(9885),i=t(57114),l=t(77971),n=t(85217),c=t(79979),d=t(66262),o=t(3226),p=t(35867),x=t(47723);function DashboardPage(){let e=(0,i.useRouter)(),{user:s}=(0,d.tN)(),[t,m]=(0,a.useState)({postCount:0,matchCount:0,messageCount:0,viewCount:0}),[h,u]=(0,a.useState)([]),[g,j]=(0,a.useState)([]),[f,b]=(0,a.useState)(!0),y=(0,o.createBrowserClient)("https://yltnvmypasnfdgtnyhwg.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlsdG52bXlwYXNuZmRndG55aHdnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQzNDcxNTMsImV4cCI6MjA1OTkyMzE1M30.ajCPb95af8_It1m_D4yGJhErKuLEtqqfqk8Yq2n4MCw"),_=(0,a.useCallback)(async()=>{try{if(!s)return;b(!0);let[{count:e},{count:t},{count:r}]=await Promise.all([y.from("research_posts").select("*",{count:"exact",head:!0}).eq("user_id",s.id),y.from("profile_matches").select("*",{count:"exact",head:!0}).eq("matcher_user_id",s.id),y.from("messages").select("*",{count:"exact",head:!0}).or(`sender_id.eq.${s.id},receiver_id.eq.${s.id}`)]);m({postCount:e||0,matchCount:t||0,messageCount:r||0,viewCount:0});let{data:a,error:i}=await y.from("profile_matches").select(`
          *,
          matched_profile:profiles!profile_matches_matchee_user_id_fkey (*)
        `).eq("matcher_user_id",s.id).order("created_at",{ascending:!1}).limit(3);i?console.error("Error fetching matches:",i):u(a);let{data:l,error:n}=await y.from("research_posts").select(`
          *,
          profiles:user_id (*)
        `).eq("visibility","public").order("created_at",{ascending:!1}).limit(3);n?console.error("Error fetching posts:",n):j(l||[])}catch(e){console.error("Error loading dashboard data:",e)}finally{b(!1)}},[s,y]);return((0,a.useEffect)(()=>{s?_():f||e.push("/login")},[s,f,_,e]),f)?r.jsx("div",{className:"container mx-auto px-4 py-8",children:r.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})})}):(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[r.jsx(l.Zb,{children:r.jsx(l.aY,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Research Posts"}),r.jsx("h3",{className:"text-2xl font-bold mt-2",children:t.postCount})]}),r.jsx("div",{className:"bg-primary-100 p-3 rounded-full dark:bg-primary-900/30",children:r.jsx(c.l1M,{className:"text-primary-600 dark:text-primary-400",size:24})})]})})}),r.jsx(l.Zb,{children:r.jsx(l.aY,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Matches"}),r.jsx("h3",{className:"text-2xl font-bold mt-2",children:t.matchCount})]}),r.jsx("div",{className:"bg-green-100 p-3 rounded-full dark:bg-green-900/30",children:r.jsx(c.WY8,{className:"text-green-600 dark:text-green-400",size:24})})]})})}),r.jsx(l.Zb,{children:r.jsx(l.aY,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Messages"}),r.jsx("h3",{className:"text-2xl font-bold mt-2",children:t.messageCount})]}),r.jsx("div",{className:"bg-blue-100 p-3 rounded-full dark:bg-blue-900/30",children:r.jsx(c.IC0,{className:"text-blue-600 dark:text-blue-400",size:24})})]})})}),r.jsx(l.Zb,{children:r.jsx(l.aY,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Profile Views"}),r.jsx("h3",{className:"text-2xl font-bold mt-2",children:t.viewCount})]}),r.jsx("div",{className:"bg-purple-100 p-3 rounded-full dark:bg-purple-900/30",children:r.jsx(c.orK,{className:"text-purple-600 dark:text-purple-400",size:24})})]})})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,r.jsxs)(l.Zb,{children:[r.jsx(l.Ol,{children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx(l.ll,{children:"Recent Posts"}),(0,r.jsxs)(n.z,{variant:"ghost",onClick:()=>e.push("/research"),children:["View All ",r.jsx(c.Tfp,{className:"ml-2"})]})]})}),r.jsx(l.aY,{children:r.jsx("div",{className:"space-y-6",children:g.length>0?g.map(e=>r.jsx(p.o,{post:e,onLike:()=>{},onBoost:()=>{}},e.id)):(0,r.jsxs)("div",{className:"text-center py-8",children:[r.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"No research posts yet"}),(0,r.jsxs)(n.z,{onClick:()=>e.push("/research/new"),children:[r.jsx(c.OvN,{className:"mr-2"})," Create Post"]})]})})})]}),(0,r.jsxs)(l.Zb,{children:[r.jsx(l.Ol,{children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx(l.ll,{children:"Recent Matches"}),(0,r.jsxs)(n.z,{variant:"ghost",onClick:()=>e.push("/collaborators"),children:["View All ",r.jsx(c.Tfp,{className:"ml-2"})]})]})}),r.jsx(l.aY,{children:r.jsx("div",{className:"space-y-4",children:h.length>0?h.map(s=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[r.jsx(x.q,{src:s.matched_profile.avatar_url,alt:`${s.matched_profile.first_name} ${s.matched_profile.last_name}`,size:"md",fallback:r.jsx(c.fzv,{className:"text-gray-400",size:24})}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h4",{className:"font-medium text-gray-900 dark:text-white",children:[s.matched_profile.first_name," ",s.matched_profile.last_name]}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:s.matched_profile.title||s.matched_profile.institution||"Researcher"})]})]}),r.jsx(n.z,{variant:"ghost",onClick:()=>e.push(`/profile/${s.matched_profile.id}`),children:"View Profile"})]},s.id)):(0,r.jsxs)("div",{className:"text-center py-8",children:[r.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"No matches yet"}),(0,r.jsxs)(n.z,{onClick:()=>e.push("/discover"),children:[r.jsx(c.jRj,{className:"mr-2"})," Find Collaborators"]})]})})})]})]})]})}},1618:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>l,__esModule:()=>i,default:()=>c});var r=t(95153);let a=(0,r.createProxy)(String.raw`/Users/shreyansh/ItsMightHappenApp/apps/web/app/dashboard/page.tsx`),{__esModule:i,$$typeof:l}=a,n=a.default,c=n}};var s=require("../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),t=s.X(0,[998,450,979,781,451,681,692,505,217,677,971,723,867],()=>__webpack_exec__(84839));module.exports=t})();