(()=>{var e={};e.id=495,e.ids=[495],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},71017:e=>{"use strict";e.exports=require("path")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},86512:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>p,pages:()=>d,routeModule:()=>m,tree:()=>c});var t=r(67096),a=r(16132),i=r(37284),l=r.n(i),n=r(32564),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);r.d(s,o);let c=["",{children:["profile",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,93445)),"/Users/shreyansh/ItsMightHappenApp/apps/web/app/profile/[id]/page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,44599)),"/Users/shreyansh/ItsMightHappenApp/apps/web/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,44293)),"/Users/shreyansh/ItsMightHappenApp/apps/web/app/not-found.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/Users/shreyansh/ItsMightHappenApp/apps/web/app/profile/[id]/page.tsx"],p="/profile/[id]/page",x={require:r,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/profile/[id]/page",pathname:"/profile/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},88083:(e,s,r)=>{Promise.resolve().then(r.bind(r,55245))},55245:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>ProfilePage});var t=r(30784),a=r(9885),i=r(57114),l=r(77971),n=r(85217),o=r(35867),c=r(47723),d=r(79979),p=r(66262),x=r(3226);function TabComponent({active:e,onClick:s,children:r}){return t.jsx("button",{onClick:s,className:`pb-4 text-sm font-medium border-b-2 ${e?"text-primary-600 border-primary-600":"text-gray-500 border-transparent hover:text-gray-700 hover:border-gray-300"}`,children:r})}function ProfilePage(){let e=(0,i.useParams)(),s=(0,i.useRouter)(),{user:r}=(0,p.tN)(),[m,h]=(0,a.useState)(null),[u,f]=(0,a.useState)([]),[b,g]=(0,a.useState)(!0),[j,y]=(0,a.useState)(""),[N,v]=(0,a.useState)("posts"),[_,w]=(0,a.useState)(!1),[k,q]=(0,a.useState)(!1),C=e?.id,P=r?.id===C,I=(0,x.createBrowserClient)("https://yltnvmypasnfdgtnyhwg.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlsdG52bXlwYXNuZmRndG55aHdnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQzNDcxNTMsImV4cCI6MjA1OTkyMzE1M30.ajCPb95af8_It1m_D4yGJhErKuLEtqqfqk8Yq2n4MCw"),z=(0,a.useCallback)(async()=>{try{g(!0),y("");let{data:e,error:s}=await I.from("profiles").select("*").eq("id",C).single();if(s)throw s;h(e);let{data:t,error:a}=await I.from("research_posts").select("*, profiles:user_id (*)").eq("user_id",C).order("created_at",{ascending:!1});if(a)throw a;if(f(t||[]),r&&!P){let{data:e,error:s}=await I.from("profile_matches").select("*").eq("matcher_user_id",r.id).eq("matchee_user_id",C).single();if(s&&"PGRST116"!==s.code)throw s;w(!!e)}}catch(e){console.error("Error loading profile:",e),y(e.message||"Failed to load profile")}finally{g(!1)}},[C,I,r,P]);(0,a.useEffect)(()=>{z()},[C,z]);let handleConnect=async()=>{if(r&&!P)try{q(!0);let{error:e}=await I.from("profile_matches").insert({matcher_user_id:r.id,matchee_user_id:C,status:"matched"});if(e)throw e;w(!0)}catch(e){console.error("Error connecting:",e)}finally{q(!1)}};return b?t.jsx("div",{className:"container mx-auto max-w-4xl px-4 py-8 flex justify-center items-center min-h-[60vh]",children:t.jsx("div",{className:"h-12 w-12 animate-spin rounded-full border-b-2 border-t-2 border-primary-600"})}):j||!m?(0,t.jsxs)("div",{className:"container mx-auto max-w-4xl px-4 py-8 text-center",children:[t.jsx(d.fzv,{size:48,className:"mx-auto text-gray-300 dark:text-gray-600 mb-4"}),t.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Profile Not Found"}),t.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:j||"The requested profile could not be found"}),t.jsx(n.z,{onClick:()=>s.push("/dashboard"),children:"Go to Dashboard"})]}):t.jsx("div",{className:"container mx-auto max-w-4xl px-4 py-8",children:(0,t.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-lg overflow-hidden",children:[t.jsx("div",{className:"relative h-48 bg-gradient-to-r from-primary-600 to-primary-400",children:t.jsx("div",{className:"absolute -bottom-16 left-8",children:t.jsx("div",{className:"h-32 w-32 rounded-full border-4 border-white dark:border-slate-800 bg-white dark:bg-slate-700 overflow-hidden",children:t.jsx(c.q,{src:m.avatar_url,alt:`${m.first_name} ${m.last_name}`,size:"xl",fallback:t.jsx(d.fzv,{className:"text-gray-400",size:64})})})})}),(0,t.jsxs)("div",{className:"pt-20 px-8 pb-8",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[m.first_name," ",m.last_name]}),t.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:m.title||"No title"})]}),!P&&t.jsx(n.z,{onClick:handleConnect,disabled:_||k,className:"flex items-center",children:k?t.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):_?(0,t.jsxs)(t.Fragment,{children:[t.jsx(d.WY8,{className:"mr-2"}),"Connected"]}):(0,t.jsxs)(t.Fragment,{children:[t.jsx(d.WY8,{className:"mr-2"}),"Connect"]})})]}),t.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 mb-6",children:(0,t.jsxs)("div",{className:"flex space-x-8",children:[t.jsx(TabComponent,{active:"posts"===N,onClick:()=>v("posts"),children:"Posts"}),t.jsx(TabComponent,{active:"about"===N,onClick:()=>v("about"),children:"About"})]})}),"posts"===N?t.jsx("div",{className:"space-y-6",children:u.length>0?u.map(e=>t.jsx(o.o,{post:e,onLike:()=>{},onBoost:()=>{}},e.id)):(0,t.jsxs)("div",{className:"text-center py-12 bg-white dark:bg-slate-800 rounded-lg shadow",children:[t.jsx(d.l1M,{size:32,className:"mx-auto text-gray-300 dark:text-gray-600 mb-2"}),t.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No research posts yet"}),P&&t.jsx(n.z,{className:"mt-4",onClick:()=>s.push("/research/new"),children:"Create Post"})]})}):(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)(l.Zb,{children:[t.jsx(l.Ol,{children:t.jsx(l.ll,{children:"Research Interests"})}),t.jsx(l.aY,{children:m.interests&&m.interests.length>0?t.jsx("div",{className:"flex flex-wrap gap-2",children:m.interests.map(e=>(0,t.jsxs)("div",{className:"bg-primary-100 text-primary-800 px-3 py-1 rounded-full text-sm flex items-center dark:bg-primary-900/30 dark:text-primary-300",children:[t.jsx(d.l1M,{className:"mr-1",size:14}),e]},e))}):t.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No research interests specified"})})]}),(0,t.jsxs)(l.Zb,{children:[t.jsx(l.Ol,{children:t.jsx(l.ll,{children:"Contact Information"})}),(0,t.jsxs)(l.aY,{className:"space-y-4",children:[m.email&&(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx(d.Imn,{className:"text-gray-400 mr-2"}),t.jsx("a",{href:`mailto:${m.email}`,className:"text-primary-600 hover:underline",children:m.email})]}),m.website&&(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx(d.XKb,{className:"text-gray-400 mr-2"}),t.jsx("a",{href:m.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline",children:m.website})]}),m.location&&(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx(d.i63,{className:"text-gray-400 mr-2"}),t.jsx("span",{children:m.location})]})]})]}),(0,t.jsxs)(l.Zb,{children:[t.jsx(l.Ol,{children:t.jsx(l.ll,{children:"Additional Information"})}),(0,t.jsxs)(l.aY,{className:"space-y-4",children:[m.institution&&(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx(d.RsK,{className:"text-gray-400 mr-2"}),t.jsx("span",{children:m.institution})]}),m.availability_hours&&(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx(d.TCC,{className:"text-gray-400 mr-2"}),(0,t.jsxs)("span",{children:[m.availability_hours," hours/week"]})]}),m.project_preference&&(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx(d.xUG,{className:"text-gray-400 mr-2"}),(0,t.jsxs)("span",{className:"capitalize",children:[m.project_preference," projects"]})]})]})]})]})]})]})})}},93445:(e,s,r)=>{"use strict";r.r(s),r.d(s,{$$typeof:()=>l,__esModule:()=>i,default:()=>o});var t=r(95153);let a=(0,t.createProxy)(String.raw`/Users/shreyansh/ItsMightHappenApp/apps/web/app/profile/[id]/page.tsx`),{__esModule:i,$$typeof:l}=a,n=a.default,o=n}};var s=require("../../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),r=s.X(0,[998,450,979,781,451,681,692,505,217,677,971,723,867],()=>__webpack_exec__(86512));module.exports=r})();