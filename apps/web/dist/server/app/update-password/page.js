(()=>{var e={};e.id=910,e.ids=[910],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},71017:e=>{"use strict";e.exports=require("path")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},98199:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>c,pages:()=>p,routeModule:()=>x,tree:()=>d});var r=t(67096),a=t(16132),i=t(37284),n=t.n(i),o=t(32564),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);t.d(s,l);let d=["",{children:["update-password",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,72361)),"/Users/shreyansh/ItsMightHappenApp/apps/web/app/update-password/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,44599)),"/Users/shreyansh/ItsMightHappenApp/apps/web/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,44293)),"/Users/shreyansh/ItsMightHappenApp/apps/web/app/not-found.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],p=["/Users/shreyansh/ItsMightHappenApp/apps/web/app/update-password/page.tsx"],c="/update-password/page",u={require:t,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/update-password/page",pathname:"/update-password",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},17509:(e,s,t)=>{Promise.resolve().then(t.bind(t,26393))},26393:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>UpdatePasswordPage});var r=t(30784),a=t(9885),i=t(57114),n=t(11440),o=t.n(n),l=t(85217),d=t(40090),p=t(77971),c=t(79979),u=t(6568);function UpdatePasswordPage(){let e=(0,i.useRouter)(),[s,t]=(0,a.useState)(""),[n,x]=(0,a.useState)(""),[h,m]=(0,a.useState)(!1),[g,w]=(0,a.useState)(!1),[f,y]=(0,a.useState)(""),b=(0,u.Wq)();(0,a.useEffect)(()=>{let checkSession=async()=>{let{data:s,error:t}=await b.auth.getSession();if(t){console.error("Error getting session:",t),y("Could not verify your session. Please try resetting your password again.");return}s.session||window.location.hash.includes("access_token")||(window.location.hash.includes("error_code=401")?y("Password reset link has expired or is invalid. Please request a new one."):window.location.hash.includes("error")&&y("An error occurred with the password reset link. Please try again."),setTimeout(()=>e.push("/login"),3e3))};checkSession()},[e,b]);let handleSubmit=async t=>{if(t.preventDefault(),!s||!n){y("Please fill in all fields");return}if(s!==n){y("Passwords do not match");return}if(s.length<8){y("Password must be at least 8 characters");return}try{m(!0),y("");let{error:t}=await b.auth.updateUser({password:s});if(t)throw t;w(!0),setTimeout(()=>{e.push("/login")},3e3)}catch(e){console.error("Update password error:",e),y(e.message||"Failed to update password. Please try again.")}finally{m(!1)}};return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-slate-900 px-4",children:(0,r.jsxs)("div",{className:"w-full max-w-md",children:[r.jsx("div",{className:"text-center mb-8",children:r.jsx(o(),{href:"/",className:"inline-block",children:(0,r.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[r.jsx("div",{className:"h-8 w-8 rounded-full bg-primary-600 flex items-center justify-center",children:r.jsx("span",{className:"text-lg font-bold text-white",children:"#"})}),r.jsx("span",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"ResearchCollab"})]})})}),(0,r.jsxs)(p.Zb,{children:[(0,r.jsxs)(p.Ol,{children:[r.jsx(p.ll,{children:"Update your password"}),r.jsx(p.SZ,{children:"Create a new password for your account"})]}),g?r.jsx(p.aY,{className:"pt-4 pb-6",children:(0,r.jsxs)("div",{className:"bg-green-50 text-green-600 p-4 rounded-md flex items-center space-x-3 text-sm dark:bg-green-900/20 dark:text-green-400",children:[r.jsx(c._rq,{className:"h-5 w-5 flex-shrink-0"}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-medium",children:"Password updated successfully!"}),r.jsx("p",{className:"mt-1",children:"You'll be redirected to the login page shortly."})]})]})}):(0,r.jsxs)("form",{onSubmit:handleSubmit,children:[(0,r.jsxs)(p.aY,{className:"space-y-4",children:[f&&(0,r.jsxs)("div",{className:"bg-red-50 text-red-600 p-3 rounded-md flex items-center space-x-2 text-sm dark:bg-red-900/20 dark:text-red-400",children:[r.jsx(c.bcx,{className:"h-5 w-5 flex-shrink-0"}),r.jsx("span",{children:f})]}),r.jsx(d.I,{label:"New Password",type:"password",placeholder:"••••••••",value:s,onChange:e=>t(e.target.value),leftIcon:r.jsx(c.UIZ,{}),required:!0}),r.jsx(d.I,{label:"Confirm Password",type:"password",placeholder:"••••••••",value:n,onChange:e=>x(e.target.value),leftIcon:r.jsx(c.UIZ,{}),required:!0})]}),r.jsx(p.eW,{className:"flex flex-col space-y-4",children:r.jsx(l.z,{type:"submit",isLoading:h,isFullWidth:!0,children:"Update Password"})})]})]})]})})}},72361:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>n,__esModule:()=>i,default:()=>l});var r=t(95153);let a=(0,r.createProxy)(String.raw`/Users/shreyansh/ItsMightHappenApp/apps/web/app/update-password/page.tsx`),{__esModule:i,$$typeof:n}=a,o=a.default,l=o},11440:(e,s,t)=>{e.exports=t(30614)},57114:(e,s,t)=>{e.exports=t(4979)}};var s=require("../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),t=s.X(0,[998,450,979,781,505,217,677,971,90],()=>__webpack_exec__(98199));module.exports=t})();