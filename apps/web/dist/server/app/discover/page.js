(()=>{var e={};e.id=583,e.ids=[583],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},71017:e=>{"use strict";e.exports=require("path")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},52064:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>d,pages:()=>c,routeModule:()=>x,tree:()=>p});var r=s(67096),i=s(16132),a=s(37284),n=s.n(a),o=s(32564),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let p=["",{children:["discover",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,22890)),"/Users/shreyansh/ItsMightHappenApp/apps/web/app/discover/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,44599)),"/Users/shreyansh/ItsMightHappenApp/apps/web/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,44293)),"/Users/shreyansh/ItsMightHappenApp/apps/web/app/not-found.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/shreyansh/ItsMightHappenApp/apps/web/app/discover/page.tsx"],d="/discover/page",u={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/discover/page",pathname:"/discover",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:p}})},88789:(e,t,s)=>{Promise.resolve().then(s.bind(s,7183))},7183:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>DiscoverPage});var r=s(30784),i=s(9885),a=s(6568),n=s(77971),o=s(85217),l=s(11440),p=s.n(l);function DiscoverPage(){let e=(0,a.Wq)(),[t,s]=(0,i.useState)([]),[l,c]=(0,i.useState)(!0),[d,u]=(0,i.useState)(null),[x,m]=(0,i.useState)("trending");return((0,i.useEffect)(()=>{let loadProjects=async()=>{try{let t=e.from("research_posts").select(`
            *,
            profiles!user_id (
              first_name,
              last_name,
              institution
            )
          `).eq("visibility","public").limit(20);t="trending"===x?t.order("likes_count",{ascending:!1}):t.order("created_at",{ascending:!1});let{data:r,error:i}=await t;if(i)throw i;s(r||[])}catch(e){u(e instanceof Error?e.message:"Failed to load projects")}finally{c(!1)}};loadProjects()},[x,e]),l)?r.jsx("div",{children:"Loading..."}):d?(0,r.jsxs)("div",{children:["Error: ",d]}):(0,r.jsxs)("div",{className:"container mx-auto py-8",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[r.jsx("h1",{className:"text-4xl font-bold",children:"Discover Projects"}),(0,r.jsxs)("div",{className:"flex gap-4",children:[r.jsx(o.z,{variant:"trending"===x?"primary":"outline",onClick:()=>m("trending"),children:"Trending"}),r.jsx(o.z,{variant:"recent"===x?"primary":"outline",onClick:()=>m("recent"),children:"Recent"})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(e=>r.jsx(p(),{href:`/research/${e.id}`,children:(0,r.jsxs)(n.Zb,{className:"p-6 h-full hover:shadow-lg transition-shadow",children:[r.jsx("h2",{className:"text-2xl font-bold mb-2",children:e.title}),r.jsx("p",{className:"text-gray-600 mb-4 line-clamp-3",children:e.content}),(0,r.jsxs)("div",{className:"mb-4",children:[r.jsx("p",{className:"font-medium",children:`${e.profiles?.first_name||""} ${e.profiles?.last_name||""}`.trim()||"N/A"}),r.jsx("p",{className:"text-sm text-gray-500",children:e.profiles?.institution||"No Institution"})]}),r.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:(e.tags||[]).map(e=>r.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-sm",children:e},e))}),r.jsx("div",{className:"flex items-center gap-4 text-sm text-gray-500"})]})},e.id))})]})}},22890:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>a,default:()=>l});var r=s(95153);let i=(0,r.createProxy)(String.raw`/Users/shreyansh/ItsMightHappenApp/apps/web/app/discover/page.tsx`),{__esModule:a,$$typeof:n}=i,o=i.default,l=o},11440:(e,t,s)=>{e.exports=s(30614)}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[998,450,781,505,217,971],()=>__webpack_exec__(52064));module.exports=s})();