(()=>{var e={};e.id=662,e.ids=[662],e.modules={136:(e,t,r)=>{"use strict";r.d(t,{BT:()=>o,Wu:()=>d,ZB:()=>i,Zp:()=>n,aR:()=>l,wL:()=>c});var s=r(687);r(3210);var a=r(2348);function n({className:e,...t}){return(0,s.jsx)("div",{className:(0,a.QP)("bg-gray-900 border border-gray-800 shadow-sm rounded-md text-gray-100 dark:bg-black dark:border-gray-800",e),...t})}function l({className:e,...t}){return(0,s.jsx)("div",{className:(0,a.QP)("p-6 flex flex-col space-y-1.5",e),...t})}function i({className:e,...t}){return(0,s.jsx)("h3",{className:(0,a.QP)("font-semibold leading-none tracking-tight text-gray-100 dark:text-gray-50",e),...t})}function o({className:e,...t}){return(0,s.jsx)("p",{className:(0,a.QP)("text-sm text-gray-400 dark:text-gray-400",e),...t})}function d({className:e,...t}){return(0,s.jsx)("div",{className:(0,a.QP)("p-6 pt-0",e),...t})}function c({className:e,...t}){return(0,s.jsx)("div",{className:(0,a.QP)("flex items-center p-6 pt-0",e),...t})}},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},907:(e,t,r)=>{"use strict";var s=r(3210),a=r(7379),n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},l=a.useSyncExternalStore,i=s.useRef,o=s.useEffect,d=s.useMemo,c=s.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,s,a){var u=i(null);if(null===u.current){var p={hasValue:!1,value:null};u.current=p}else p=u.current;var m=l(e,(u=d(function(){function e(e){if(!o){if(o=!0,l=e,e=s(e),void 0!==a&&p.hasValue){var t=p.value;if(a(t,e))return i=t}return i=e}if(t=i,n(l,e))return t;var r=s(e);return void 0!==a&&a(t,r)?(l=e,t):(l=e,i=r)}var l,i,o=!1,d=void 0===r?null:r;return[function(){return e(t())},null===d?void 0:function(){return e(d())}]},[t,r,s,a]))[0],u[1]);return o(function(){p.hasValue=!0,p.value=m},[m]),c(m),m}},959:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var s=r(687),a=r(3210),n=r(6189),l=r(2294),i=r(8444),o=r(136),d=r(6749),c=r(8391),u=r(7838);function p(){(0,n.useRouter)();let{user:e,profile:t,setProfile:r}=(0,c.nc)(),[p,m]=(0,a.useState)({first_name:"",last_name:"",bio:"",institution:"",location:"",field_of_study:"",website:"",availability:"full-time"}),[x,f]=(0,a.useState)(null),[h,b]=(0,a.useState)(null),[g,y]=(0,a.useState)(!1),[v,j]=(0,a.useState)(!1),[w,N]=(0,a.useState)(""),[k,S]=(0,a.useState)(""),P=e=>{let{name:t,value:r}=e.target;m(e=>({...e,[t]:r}))},E=async s=>{if(s.preventDefault(),e)try{j(!0),N(""),S("");let s=t?.avatar_url;if(x){let{url:t}=await u.storage.uploadAvatar(e.id,x);s=t}let a=await u.profiles.update(e.id,{...p,avatar_url:s});r(a),S("Profile updated successfully")}catch(e){console.error("Error updating profile:",e),N(e.message||"Failed to update profile")}finally{j(!1)}};return g?(0,s.jsx)("div",{className:"container mx-auto max-w-4xl px-4 py-8",children:(0,s.jsx)("div",{className:"flex justify-center py-12",children:(0,s.jsx)("div",{className:"h-8 w-8 animate-spin rounded-full border-b-2 border-t-2 border-primary-600"})})}):(0,s.jsxs)("div",{className:"container mx-auto max-w-4xl px-4 py-8",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Account Settings"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,s.jsx)("div",{className:"md:col-span-1",children:(0,s.jsx)(o.Zp,{children:(0,s.jsx)(o.Wu,{className:"p-6",children:(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)("div",{className:"h-24 w-24 rounded-full bg-primary-100 flex items-center justify-center overflow-hidden mb-4 relative",children:h?(0,s.jsx)("img",{src:h,alt:"Profile",className:"h-full w-full object-cover"}):(0,s.jsx)(d.JXP,{className:"text-primary-600",size:36})}),(0,s.jsxs)("p",{className:"font-medium text-lg",children:[t?.first_name," ",t?.last_name]}),(0,s.jsx)("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:e?.email}),(0,s.jsx)("div",{className:"mt-4 w-full",children:(0,s.jsxs)("label",{className:"block w-full",children:[(0,s.jsx)("span",{className:"sr-only",children:"Choose profile photo"}),(0,s.jsx)("input",{type:"file",className:"hidden",accept:"image/*",onChange:e=>{let t=e.target.files?.[0];if(!t)return;let r=new FileReader;r.onloadend=()=>{b(r.result)},r.readAsDataURL(t),f(t)}}),(0,s.jsxs)(l.$,{type:"button",variant:"outline",className:"w-full",onClick:()=>document.querySelector('input[type="file"]')?.click(),children:[(0,s.jsx)(d.B88,{className:"mr-2",size:16}),"Change Photo"]})]})})]})})})}),(0,s.jsx)("div",{className:"md:col-span-2",children:(0,s.jsxs)(o.Zp,{children:[(0,s.jsxs)(o.aR,{children:[(0,s.jsx)(o.ZB,{children:"Profile Information"}),(0,s.jsx)(o.BT,{children:"Update your personal information and public profile"})]}),(0,s.jsx)(o.Wu,{children:(0,s.jsxs)("form",{onSubmit:E,className:"space-y-4",children:[w&&(0,s.jsxs)("div",{className:"bg-red-50 text-red-600 p-3 rounded-md flex items-center space-x-2 text-sm dark:bg-red-900/20 dark:text-red-400",children:[(0,s.jsx)(d.y3G,{className:"h-5 w-5 flex-shrink-0"}),(0,s.jsx)("span",{children:w})]}),k&&(0,s.jsx)("div",{className:"bg-green-50 text-green-600 p-3 rounded-md text-sm dark:bg-green-900/20 dark:text-green-400",children:k}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsx)(i.p,{label:"First Name",name:"first_name",value:p.first_name,onChange:P,required:!0}),(0,s.jsx)(i.p,{label:"Last Name",name:"last_name",value:p.last_name,onChange:P,required:!0})]}),(0,s.jsx)(i.p,{label:"Bio",name:"bio",value:p.bio||"",onChange:P,type:"textarea",rows:4,placeholder:"Write a short bio about yourself..."}),(0,s.jsx)(i.p,{label:"Institution",name:"institution",value:p.institution||"",onChange:P,placeholder:"e.g., Stanford University"}),(0,s.jsx)(i.p,{label:"Location",name:"location",value:p.location||"",onChange:P,placeholder:"e.g., San Francisco, CA"}),(0,s.jsx)(i.p,{label:"Field of Study",name:"field_of_study",value:p.field_of_study||"",onChange:P,placeholder:"e.g., Computer Science"}),(0,s.jsx)(i.p,{label:"Website",name:"website",value:p.website||"",onChange:P,placeholder:"e.g., https://yourwebsite.com"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Availability"}),(0,s.jsxs)("select",{name:"availability",value:p.availability||"full-time",onChange:P,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 dark:bg-gray-800 dark:border-gray-700 dark:text-white",children:[(0,s.jsx)("option",{value:"full-time",children:"Full Time"}),(0,s.jsx)("option",{value:"part-time",children:"Part Time"}),(0,s.jsx)("option",{value:"weekends",children:"Weekends Only"}),(0,s.jsx)("option",{value:"not-available",children:"Not Available"})]})]}),(0,s.jsx)("div",{className:"pt-4",children:(0,s.jsxs)(l.$,{type:"submit",isLoading:v,children:[(0,s.jsx)(d.Bc_,{className:"mr-2",size:16}),"Save Changes"]})})]})})]})})]})]})}},2823:(e,t,r)=>{Promise.resolve().then(r.bind(r,8245))},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3332:(e,t,r)=>{"use strict";var s=r(3210),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=s.useState,l=s.useEffect,i=s.useLayoutEffect,o=s.useDebugValue;function d(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!a(e,r)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),s=n({inst:{value:r,getSnapshot:t}}),a=s[0].inst,c=s[1];return i(function(){a.value=r,a.getSnapshot=t,d(a)&&c({inst:a})},[e,r,t]),l(function(){return d(a)&&c({inst:a}),e(function(){d(a)&&c({inst:a})})},[e]),o(r),r};t.useSyncExternalStore=void 0!==s.useSyncExternalStore?s.useSyncExternalStore:c},3873:e=>{"use strict";e.exports=require("path")},4671:(e,t,r)=>{Promise.resolve().then(r.bind(r,959))},5665:(e,t,r)=>{"use strict";r.d(t,{vt:()=>p});let s=e=>{let t,r=new Set,s=(e,s)=>{let a="function"==typeof e?e(t):e;if(!Object.is(a,t)){let e=t;t=(null!=s?s:"object"!=typeof a||null===a)?a:Object.assign({},t,a),r.forEach(r=>r(t,e))}},a=()=>t,n={setState:s,getState:a,getInitialState:()=>l,subscribe:e=>(r.add(e),()=>r.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},l=t=e(s,a,n);return n},a=e=>e?s(e):s;var n=r(3210),l=r(9733);let{useDebugValue:i}=n,{useSyncExternalStoreWithSelector:o}=l,d=!1,c=e=>e,u=e=>{"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let t="function"==typeof e?a(e):e,r=(e,r)=>(function(e,t=c,r){r&&!d&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),d=!0);let s=o(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return i(s),s})(t,e,r);return Object.assign(r,t),r},p=e=>e?u(e):u},7379:(e,t,r)=>{"use strict";e.exports=r(3332)},7838:()=>{throw Error("Module build failed (from ./node_modules/next/dist/build/webpack/loaders/next-swc-loader.js):\nError:   \x1b[31mx\x1b[0m Expression expected\n      ,-[\x1b[36;1;4m/Users/shreyansh/ItsMightHappenApp/research-collab-standalone/lib/api.js\x1b[0m:1156:1]\n \x1b[2m1153\x1b[0m | };\n \x1b[2m1154\x1b[0m | // Export all API methods and functions\n \x1b[2m1155\x1b[0m | \n \x1b[2m1156\x1b[0m |     }, function (payload) {\n      : \x1b[35;1m    ^\x1b[0m\n \x1b[2m1157\x1b[0m |         callback(payload.new);\n \x1b[2m1158\x1b[0m |     })\n \x1b[2m1159\x1b[0m |         .subscribe();\n      `----\n\n\nCaused by:\n    Syntax Error")},8245:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/shreyansh/ItsMightHappenApp/research-collab-standalone/app/settings/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/shreyansh/ItsMightHappenApp/research-collab-standalone/app/settings/page.tsx","default")},8444:(e,t,r)=>{"use strict";r.d(t,{p:()=>l});var s=r(687),a=r(3210),n=r(2348);let l=(0,a.forwardRef)(({label:e,helperText:t,error:r,leftIcon:a,rightIcon:l,isFullWidth:i=!1,size:o="md",className:d,containerClassName:c,labelClassName:u,inputClassName:p,helperTextClassName:m,errorClassName:x,...f},h)=>{let b={sm:"h-4 w-4",md:"h-5 w-5",lg:"h-5 w-5"},g={left:{sm:"pl-7",md:"pl-9",lg:"pl-10"},right:{sm:"pr-7",md:"pr-9",lg:"pr-10"}},y="px-3";a&&(y=g.left[o]),l&&(y=g.right[o]),a&&l&&(y=`${g.left[o]} ${g.right[o]}`);let v=i?"w-full":"",j=r?"border-red-500 focus:ring-red-500":"border-gray-700 dark:border-gray-800";return(0,s.jsxs)("div",{className:(0,n.QP)("flex flex-col",v,c),children:[e&&(0,s.jsx)("label",{htmlFor:f.id,className:(0,n.QP)("block text-sm font-medium text-gray-200 dark:text-gray-300 mb-1",u),children:e}),(0,s.jsxs)("div",{className:"relative",children:[a&&(0,s.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none text-gray-400 dark:text-gray-500",children:(0,s.jsx)("span",{className:b[o],children:a})}),(0,s.jsx)("input",{ref:h,className:(0,n.QP)("bg-gray-900 border text-gray-100 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-600 focus:border-transparent disabled:cursor-not-allowed disabled:opacity-50 dark:bg-gray-950 dark:border-gray-800 dark:text-gray-100 dark:placeholder-gray-600",{sm:"py-1 text-xs rounded",md:"py-2 text-sm rounded-md",lg:"py-2.5 text-base rounded-md"}[o],y,j,v,p,d),...f}),l&&(0,s.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none text-gray-400 dark:text-gray-500",children:(0,s.jsx)("span",{className:b[o],children:l})})]}),r&&(0,s.jsx)("p",{className:(0,n.QP)("mt-1 text-xs text-red-400 dark:text-red-400",x),children:r}),t&&!r&&(0,s.jsx)("p",{className:(0,n.QP)("mt-1 text-xs text-gray-400 dark:text-gray-500",m),children:t})]})});l.displayName="Input"},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9130:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var s=r(5239),a=r(8088),n=r(8170),l=r.n(n),i=r(893),o={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);r.d(t,o);let d={children:["",{children:["settings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,8245)),"/Users/shreyansh/ItsMightHappenApp/research-collab-standalone/app/settings/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,6055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,8014)),"/Users/shreyansh/ItsMightHappenApp/research-collab-standalone/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,4206)),"/Users/shreyansh/ItsMightHappenApp/research-collab-standalone/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,5284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,6055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/Users/shreyansh/ItsMightHappenApp/research-collab-standalone/app/settings/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/settings/page",pathname:"/settings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9551:e=>{"use strict";e.exports=require("url")},9733:(e,t,r)=>{"use strict";e.exports=r(907)}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[447,165,956,886],()=>r(9130));module.exports=s})();